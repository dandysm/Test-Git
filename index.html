<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistem Voucher Internet</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #f8f9fa;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        .card {
            border-radius: 15px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .header {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            color: white;
            padding: 30px 0;
            margin-bottom: 30px;
            border-radius: 0 0 20px 20px;
        }
        .voucher-card {
            transition: transform 0.3s;
        }
        .voucher-card:hover {
            transform: translateY(-5px);
        }
        .progress-bar {
            background-color: #6a11cb;
        }
        .btn-primary {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            border: none;
        }
        .btn-primary:hover {
            background: linear-gradient(135deg, #2575fc 0%, #6a11cb 100%);
        }
        .status-badge {
            padding: 5px 10px;
            border-radius: 20px;
            font-weight: bold;
        }
        .status-pending {
            background-color: #fff3cd;
            color: #856404;
        }
        .status-paid {
            background-color: #d4edda;
            color: #155724;
        }
        .contact-input {
            border-left: 4px solid #6a11cb !important;
        }
        .qris-method {
            border: 2px solid #6a11cb;
            border-radius: 10px;
            padding: 15px;
            background-color: #f8f9fa;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <div class="header text-center">
        <h1>Sistem Voucher Internet</h1>
        <p class="lead">Beli voucher dan nikmati akses internet cepat</p>
    </div>

    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-8">
                <!-- Progress Bar -->
                <div class="card mb-4">
                    <div class="card-body">
                        <div class="d-flex justify-content-between mb-3">
                            <span class="text-primary fw-bold">Login</span>
                            <span class="text-primary fw-bold">Pembayaran</span>
                            <span class="text-muted">Voucher</span>
                        </div>
                        <div class="progress" style="height: 10px;">
                            <div class="progress-bar" role="progressbar" style="width: 66%;"></div>
                        </div>
                    </div>
                </div>

                <!-- Contact Information -->
                <div class="card mb-4">
                    <div class="card-header bg-white">
                        <h5 class="card-title mb-0">Informasi Kontak</h5>
                        <p class="text-muted small mb-0">Kode voucher akan dikirim melalui WhatsApp dan email</p>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="whatsapp" class="form-label">Nomor WhatsApp</label>
                                <div class="input-group">
                                    <span class="input-group-text">+62</span>
                                    <input type="tel" class="form-control contact-input" id="whatsapp" placeholder="8123456789" required>
                                </div>
                                <div class="form-text">Contoh: 8123456789</div>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="email" class="form-label">Email</label>
                                <input type="email" class="form-control contact-input" id="email" placeholder="nama@contoh.com" required>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Product Selection -->
                <div class="card mb-4">
                    <div class="card-header bg-white">
                        <h5 class="card-title mb-0">Pilih Voucher</h5>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <div class="card voucher-card text-center">
                                    <div class="card-body">
                                        <h5 class="card-title">Voucher 1 Jam</h5>
                                        <h3 class="text-primary">Rp 3.000</h3>
                                        <p>Akses internet selama 1 jam</p>
                                        <button class="btn btn-outline-primary btn-select" data-amount="3000" data-duration="1">Pilih</button>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6 mb-3">
                                <div class="card voucher-card text-center">
                                    <div class="card-body">
                                        <h5 class="card-title">Voucher 3 Jam</h5>
                                        <h3 class="text-primary">Rp 8.000</h3>
                                        <p>Akses internet selama 3 jam</p>
                                        <button class="btn btn-outline-primary btn-select" data-amount="8000" data-duration="3">Pilih</button>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6 mb-3">
                                <div class="card voucher-card text-center">
                                    <div class="card-body">
                                        <h5 class="card-title">Voucher 5 Jam</h5>
                                        <h3 class="text-primary">Rp 12.000</h3>
                                        <p>Akses internet selama 5 jam</p>
                                        <button class="btn btn-outline-primary btn-select" data-amount="12000" data-duration="5">Pilih</button>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6 mb-3">
                                <div class="card voucher-card text-center">
                                    <div class="card-body">
                                        <h5 class="card-title">Voucher 24 Jam</h5>
                                        <h3 class="text-primary">Rp 20.000</h3>
                                        <p>Akses internet selama 24 jam</p>
                                        <button class="btn btn-outline-primary btn-select" data-amount="20000" data-duration="24">Pilih</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Payment Details -->
                <div class="card mb-4 d-none" id="paymentSection">
                    <div class="card-header bg-white">
                        <h5 class="card-title mb-0">Detail Pembayaran</h5>
                    </div>
                    <div class="card-body">
                        <div class="row mb-3">
                            <div class="col-sm-6">
                                <p class="mb-0">Jenis Voucher:</p>
                            </div>
                            <div class="col-sm-6">
                                <p class="mb-0 fw-bold" id="selectedVoucher">-</p>
                            </div>
                        </div>
                        <div class="row mb-3">
                            <div class="col-sm-6">
                                <p class="mb-0">Harga:</p>
                            </div>
                            <div class="col-sm-6">
                                <p class="mb-0 fw-bold" id="selectedAmount">-</p>
                            </div>
                        </div>
                        <div class="row mb-3">
                            <div class="col-sm-6">
                                <p class="mb-0">Metode Pembayaran:</p>
                            </div>
                            <div class="col-sm-6">
                                <div class="qris-method">
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" name="paymentMethod" id="qrisMethod" value="QRIS" checked>
                                        <label class="form-check-label fw-bold" for="qrisMethod">
                                            QRIS
                                        </label>
                                    </div>
                                    <p class="small text-muted mt-2 mb-0">Scan kode QR untuk melakukan pembayaran melalui berbagai aplikasi e-wallet</p>
                                </div>
                            </div>
                        </div>
                        <div class="text-center mt-4">
                            <button class="btn btn-primary btn-lg" id="payButton">Bayar Sekarang</button>
                        </div>
                    </div>
                </div>

                <!-- Payment Status -->
                <div class="card mb-4 d-none" id="statusSection">
                    <div class="card-header bg-white">
                        <h5 class="card-title mb-0">Status Pembayaran</h5>
                    </div>
                    <div class="card-body text-center">
                        <div class="spinner-border text-primary mb-3" role="status" id="paymentSpinner">
                            <span class="visually-hidden">Loading...</span>
                        </div>
                        <h5 id="paymentStatus">Menunggu Pembayaran</h5>
                        <p class="text-muted" id="paymentDescription">Silakan selesaikan pembayaran menggunakan QRIS</p>
                        <div class="mt-4" id="qrCodeContainer"></div>
                        <div class="mt-3">
                            <p class="small text-muted">Scan QR code di atas menggunakan aplikasi e-wallet atau mobile banking Anda</p>
                        </div>
                        <div class="mt-4">
                            <button class="btn btn-outline-secondary" id="checkStatus">Cek Status</button>
                        </div>
                    </div>
                </div>

                <!-- Voucher Result -->
                <div class="card mb-4 d-none" id="voucherSection">
                    <div class="card-header bg-white">
                        <h5 class="card-title mb-0">Voucher Anda</h5>
                    </div>
                    <div class="card-body text-center">
                        <div class="alert alert-success">
                            <h4>Pembayaran Berhasil!</h4>
                            <p>Voucher Anda telah berhasil dibuat dan akan dikirim melalui WhatsApp dan email</p>
                        </div>
                        <div class="bg-light p-4 rounded mb-4">
                            <h3 class="text-primary" id="voucherCode">XYZ123-ABC456-DEF789</h3>
                            <p class="mb-0">Masa aktif: <span id="voucherDuration">1 jam</span></p>
                        </div>
                        <div class="row mb-4">
                            <div class="col-md-6">
                                <div class="d-flex align-items-center justify-content-center p-3 border rounded">
                                    <div>
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-whatsapp text-success me-2" viewBox="0 0 16 16">
                                            <path d="M13.601 2.326A7.854 7.854 0 0 0 7.994 0C3.627 0 .068 3.558.064 7.926c0 1.399.366 2.76 1.057 3.965L0 16l4.204-1.102a7.933 7.933 0 0 0 3.79.965h.004c4.368 0 7.926-3.558 7.93-7.93A7.898 7.898 0 0 0 13.6 2.326zM7.994 14.521a6.573 6.573 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.557 6.557 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592zm3.615-4.934c-.197-.099-1.17-.578-1.353-.646-.182-.065-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.232.148-.43.05-.197-.1-.836-.308-1.592-.985-.59-.525-.985-1.175-1.103-1.372-.114-.198-.011-.304.088-.403.087-.088.197-.232.296-.346.1-.114.133-.198.198-.33.065-.134.034-.248-.015-.347-.05-.099-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007a.729.729 0 0 0-.529.247c-.182.198-.691.677-.691 1.654 0 .977.71 1.916.81 2.049.098.133 1.394 2.132 3.383 2.992.47.205.84.326 1.129.418.475.152.904.129 1.246.08.38-.058 1.171-.48 1.338-.943.164-.464.164-.86.114-.943-.049-.084-.182-.133-.38-.232z"/>
                                        </svg>
                                    </div>
                                    <div class="ms-2">
                                        <span class="d-block fw-bold">WhatsApp</span>
                                        <span id="waNumber">+628123456789</span>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="d-flex align-items-center justify-content-center p-3 border rounded">
                                    <div>
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-envelope text-primary me-2" viewBox="0 0 16 16">
                                            <path d="M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4Zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1H2Zm13 2.383-4.708 2.825L15 11.105V5.383Zm-.034 6.876-5.64-3.471L8 9.583l-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741ZM1 11.105l4.708-2.897L1 5.383v5.722Z"/>
                                        </svg>
                                    </div>
                                    <div class="ms-2">
                                        <span class="d-block fw-bold">Email</span>
                                        <span id="emailAddress">nama@contoh.com</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <button class="btn btn-primary" id="copyVoucher">Salin Voucher</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer class="bg-light text-center p-4 mt-5">
        <p class="mb-0">© 2023 Sistem Voucher Internet. All rights reserved.</p>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Elements
            const paymentSection = document.getElementById('paymentSection');
            const statusSection = document.getElementById('statusSection');
            const voucherSection = document.getElementById('voucherSection');
            const selectedVoucher = document.getElementById('selectedVoucher');
            const selectedAmount = document.getElementById('selectedAmount');
            const payButton = document.getElementById('payButton');
            const paymentStatus = document.getElementById('paymentStatus');
            const paymentDescription = document.getElementById('paymentDescription');
            const paymentSpinner = document.getElementById('paymentSpinner');
            const checkStatus = document.getElementById('checkStatus');
            const voucherCode = document.getElementById('voucherCode');
            const voucherDuration = document.getElementById('voucherDuration');
            const copyVoucher = document.getElementById('copyVoucher');
            const waNumber = document.getElementById('waNumber');
            const emailAddress = document.getElementById('emailAddress');
            const whatsappInput = document.getElementById('whatsapp');
            const emailInput = document.getElementById('email');
            
            // Variables to store selected product
            let selectedProduct = null;
            
            // Select product buttons
            document.querySelectorAll('.btn-select').forEach(button => {
                button.addEventListener('click', function() {
                    // Validasi input kontak
                    if (!whatsappInput.value || !emailInput.value) {
                        alert('Harap isi nomor WhatsApp dan email terlebih dahulu');
                        return;
                    }
                    
                    // Validasi format email
                    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                    if (!emailRegex.test(emailInput.value)) {
                        alert('Format email tidak valid');
                        return;
                    }
                    
                    // Validasi format WhatsApp
                    const waRegex = /^[0-9]{9,13}$/;
                    if (!waRegex.test(whatsappInput.value)) {
                        alert('Format nomor WhatsApp tidak valid. Harap masukkan 9-13 digit angka');
                        return;
                    }
                    
                    const amount = this.getAttribute('data-amount');
                    const duration = this.getAttribute('data-duration');
                    
                    selectedProduct = {
                        amount: amount,
                        duration: duration
                    };
                    
                    // Update payment details
                    selectedVoucher.textContent = `Voucher ${duration} Jam`;
                    selectedAmount.textContent = `Rp ${parseInt(amount).toLocaleString('id-ID')}`;
                    
                    // Show payment section
                    paymentSection.classList.remove('d-none');
                    
                    // Scroll to payment section
                    paymentSection.scrollIntoView({ behavior: 'smooth' });
                });
            });
            
            // Pay button handler
            payButton.addEventListener('click', function() {
                // Show status section
                paymentSection.classList.add('d-none');
                statusSection.classList.remove('d-none');
                
                // Simulate payment process
                simulatePaymentProcess();
            });
            
            // Check status button
            checkStatus.addEventListener('click', function() {
                simulateCheckStatus();
            });
            
            // Copy voucher button
            copyVoucher.addEventListener('click', function() {
                navigator.clipboard.writeText(voucherCode.textContent)
                    .then(() => {
                        alert('Kode voucher berhasil disalin!');
                    })
                    .catch(err => {
                        console.error('Error copying text: ', err);
                    });
            }